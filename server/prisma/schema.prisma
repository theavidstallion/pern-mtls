generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  password String? // Nullable (SSO users don't have a password)
  role     String  @default("User") // "Admin", "Manager", "User"
  provider String  @default("local") // "local" or "keycloak"
  createdAt DateTime @default(now())
}

model Log {
  id        Int      @id @default(autoincrement())
  action    String   // e.g., "LOGIN", "SIGNUP", "LOGOUT"
  email     String   // Who did it
  details   String?  // Extra info (like "SSO" or "Local")
  createdAt DateTime @default(now())
}